#[repr(packed)]
pub struct Rsdp2 {
    pub signature: [u8; 8],
    pub checksum: u8,
    pub oem_id: [u8; 6],
    pub revision: u8,
    pub rsdt_address: u32,
    pub length: u32,
    pub xsdt_address: u64, // Extended System Descriptor Table Address
    pub extended_checksum: u8,
    pub reserved: [u8; 3],
}

#[repr(packed)]
pub struct SDTHeader {
    pub signature: [u8; 4],
    pub length: u32,
    pub revision: u8,
    pub checksum: u8,
    pub oem_id: [u8; 6],
    pub oem_table_id: [u8; 8],
    pub oem_revision: u32,
    pub creator_id: u32,
    pub creator_revision: u32,
}

#[repr(packed)]
pub struct MCFGHeader {
    pub sdt_header: SDTHeader,
    pub reserved: u64,
}

pub fn acpi_structure_from_address_mut<'a, T>(addr: u64) -> &'a mut T {
    let x = MCFGHeader
    unsafe { &*(addr as *mut u64 as *mut T) }
}

pub fn acpi_structure_from_address<'a, T>(addr: u64) -> &'a T {
    acpi_structure_from_address_mut(addr)
}
